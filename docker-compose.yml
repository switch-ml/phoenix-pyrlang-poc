version: '3.7'

services:
  web:
    build:
      context: ./
      dockerfile: ./docker/Dockerfile.phoenix
    image: poc/elixir:latest
    ports:
      - 4000:4000
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

  webpack:
    build:
      context: ./
      dockerfile: ./docker/Dockerfile.webpack
    command: yarn run watch

  ml-poc:
    build:
      context: ./
      dockerfile: ./docker/Dockerfile.ml
